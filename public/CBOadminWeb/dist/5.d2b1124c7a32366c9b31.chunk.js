webpackJsonp([5],{247:function(t,e,i){"use strict";function n(t){u||i(893)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(482),r=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);var s=i(895),d=(i.n(s),i(4)),u=!1,l=n,c=Object(d.a)(r.a,s.render,s.staticRenderFns,!1,l,null,null);c.options.__file="src/views/basic_conf/match_synopsis/index.vue",e.default=c.exports},273:function(t,e,i){"use strict";e.a={name:"VueUEditor",props:{ueditorPath:{type:String,default:"/static/ueditor1_4_3_3/"},ueditorConfig:{type:Object,default:function(){return{}}}},data:function(){return{randomId:"editor_"+1e17*Math.random(),instance:null,scriptTagStatus:0}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("editorScriptTag"),i=document.getElementById("configScriptTag");if(null===e){i=document.createElement("script"),i.type="text/javascript",i.src=this.ueditorPath+"ueditor.config.js",i.id="configScriptTag",e=document.createElement("script"),e.type="text/javascript",e.src=this.ueditorPath+"ueditor.all.js",e.id="editorScriptTag";var n=document.getElementsByTagName("head")[0];n.appendChild(i),n.appendChild(e)}i.loaded?this.scriptTagStatus++:i.addEventListener("load",function(){t.scriptTagStatus++,i.loaded=!0,t.initEditor()}),e.loaded?this.scriptTagStatus++:e.addEventListener("load",function(){t.scriptTagStatus++,e.loaded=!0,t.initEditor()}),this.initEditor()},initEditor:function(){var t=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){t.instance=window.UE.getEditor(t.randomId,t.ueditorConfig),t.instance.addListener("ready",function(){t.$emit("ready",t.instance)})})}}}},294:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(295);e.default=n.a},295:function(t,e,i){"use strict";var n=i(273),a=i(296),r=i(4),o=Object(r.a)(n.a,a.a,a.b,!1,null,null,null);o.options.__file="node_modules/vue-ueditor/src/components/UEditor.vue",e.a=o.exports},296:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("script",{attrs:{id:t.randomId,name:"content",type:"text/plain"}})},a=[];n._withStripped=!0},370:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coruData=e.getDataDetails=void 0;var n=i(34),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.getDataDetails=function(t){return a.default.get("BasicConf/getDetails",{params:{name:t}})},e.coruData=function(t){return a.default.post("BasicConf/coruData",t)}},482:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(55),r=n(a),o=i(370),s=(i(93),i(294)),d=n(s);e.default={name:"match_synopsis",components:{VueUEditor:d.default},data:function(){return{editor:"",editorConfig:{autoHeightEnabled:!1,initialFrameHeight:400,initialFrameWidth:"100%",serverUrl:"http://localhost:8003/controller.php",UEDITOR_HOME_URL:"/static/Ue/",zIndex:9999},loading:!1,formItem:{id:"",name:"",remarks:"",value:""},uploadUrl:"",uploadHeader:{},editorOption:{modules:{toolbar:{container:[[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote","clean"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],[{color:[]},{background:[]}],["image"]],handlers:{image:function(t){t?document.querySelector("#iviewUp input").click():this.quill.format("image",!1)}}}}},ruleValidate:{}}},mounted:function(){this.getDataDetails(),this.uploadUrl=r.default.baseUrl+"Index/upload",this.uploadHeader={ApiAuth:sessionStorage.getItem("apiAuth")}},methods:{submit:function(){var t=this;this.formItem.value=this.editor.getContent(),this.$refs.myForm.validate(function(e){e&&(t.loading=!0,(0,o.coruData)(t.formItem).then(function(e){1===e.data.code?(t.getDataDetails(),t.$Message.success(e.data.msg)):t.$Message.error(e.data.msg),t.loading=!1}))})},handleSingleSuccess:function(t,e){var i=this,n=this.$refs.myQuillEditor.quill;if(1===t.code){var a=n.getSelection().index;n.insertEmbed(a,"image",t.data.fileUrl),n.setSelection(a+1)}else i.$Message.error("图片插入失败")},handleFormatError:function(){},handleBeforeUpload:function(){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){},getDataDetails:function(){var t=this;(0,o.getDataDetails)("match_synopsis").then(function(e){console.log(e),t.formItem=e.data.data})},onEditorReady:function(t){this.editor=t,this.editor.setContent(this.formItem.value)}}}},893:function(t,e,i){var n=i(894);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(16).default;a("55049c84",n,!1,{})},894:function(t,e,i){e=t.exports=i(15)(!1),e.push([t.i,"\n.ql-editor {\n    height: 300px;\n}\n",""])},895:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",[i("p",{attrs:{slot:"title"},slot:"title"},[i("Icon",{attrs:{type:"md-person"}}),t._v("\n            赛事简介管理\n        ")],1),t._v(" "),i("div",[i("Form",{ref:"myForm",attrs:{rules:t.ruleValidate,model:t.formItem,"label-width":100}},[i("FormItem",{attrs:{label:"配置名称",prop:"name"}},[i("Input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),t._v(" "),i("FormItem",{attrs:{label:"配置备注",prop:"remarks"}},[i("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"配置备注"},model:{value:t.formItem.remarks,callback:function(e){t.$set(t.formItem,"remarks",e)},expression:"formItem.remarks"}})],1),t._v(" "),i("FormItem",{attrs:{label:"配置内容",prop:"value"}},[i("VueUEditor",{attrs:{ueditorPath:"/static/Ue/",ueditorConfig:t.editorConfig},on:{ready:t.onEditorReady}})],1),t._v(" "),i("div",[i("Button",{staticStyle:{width:"100px","margin-left":"100px"},attrs:{type:"primary",loading:t.loading},on:{click:t.submit}},[t._v("保存")])],1)],1)],1)])],1)},a=[];n._withStripped=!0,e.render=n,e.staticRenderFns=a}});