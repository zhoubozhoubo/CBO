webpackJsonp([17],{242:function(e,t,n){"use strict";function a(e){d||n(865)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(478),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(867),l=(n.n(s),n(4)),d=!1,u=a,c=Object(l.a)(i.a,s.render,s.staticRenderFns,!1,u,null,null);c.options.__file="src/views/basic_conf/banner/index.vue",t.default=c.exports},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coruData=t.getDataDetails=void 0;var a=n(34),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.getDataDetails=function(e){return o.default.get("BasicConf/getDetails",{params:{name:e}})},t.coruData=function(e){return o.default.post("BasicConf/coruData",e)}},478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(55),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(322);t.default={name:"banner",data:function(){return{loading:!1,formItem:{id:"",name:"",remarks:"",value:""},modalSeeingImg:{img:"",show:!1},uploadUrl:"",uploadHeader:{},ruleValidate:{value:[{required:!0,message:"请上传图片",trigger:"change"}]}}},mounted:function(){this.getDataDetails(),this.uploadUrl=o.default.baseUrl+"Index/upload",this.uploadHeader={ApiAuth:sessionStorage.getItem("apiAuth")}},methods:{getDataDetails:function(){var e=this;(0,i.getDataDetails)("banner").then(function(t){console.log(t),e.formItem=t.data.data})},handleView:function(){this.modalSeeingImg.show=!0,this.modalSeeingImg.img=this.formItem.value},handleImgSuccess:function(e){1===e.code?(this.$Message.success(e.msg),this.formItem.value=e.data.fileUrl):this.$Message.error(e.msg)},handleImgRemove:function(){this.formItem.value=""},handleImgFormatError:function(e){this.$Notice.warning({title:"文件类型不合法",desc:e.name+"的文件类型不正确，请上传jpg或者png图片。"})},handleImgMaxSize:function(e){this.$Notice.warning({title:"文件大小不合法",desc:e.name+"太大啦请上传小于5M的文件。"})},submit:function(){var e=this;this.$refs.myForm.validate(function(t){t&&(e.loading=!0,(0,i.coruData)(e.formItem).then(function(t){1===t.data.code?(e.getDataDetails(),e.$Message.success(t.data.msg)):e.$Message.error(t.data.msg),e.loading=!1}))})}}}},865:function(e,t,n){var a=n(866);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n(16).default;o("5cce3cc0",a,!1,{})},866:function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,"\n.own-space-btn-box {\n  margin-bottom: 10px;\n}\n.own-space-btn-box button {\n  padding-left: 0;\n}\n.own-space-btn-box button span {\n  color: #2D8CF0;\n  transition: all 0.2s;\n}\n.own-space-btn-box button span:hover {\n  color: #0C25F1;\n  transition: all 0.2s;\n}\n.own-space-tra {\n  width: 10px;\n  height: 10px;\n  transform: rotate(45deg);\n  position: absolute;\n  top: 50%;\n  margin-top: -6px;\n  left: -3px;\n  box-shadow: 0 0 2px 3px rgba(0, 0, 0, 0.1);\n  background-color: white;\n  z-index: 100;\n}\n.own-space-input-identifycode-con {\n  position: absolute;\n  width: 200px;\n  height: 100px;\n  right: -220px;\n  top: 50%;\n  margin-top: -50px;\n  border-radius: 4px;\n  box-shadow: 0 0 2px 3px rgba(0, 0, 0, 0.1);\n}\n.demo-upload-list {\n  display: inline-block;\n  width: 60px;\n  height: 60px;\n  text-align: center;\n  line-height: 60px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  position: relative;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n  margin-right: 4px;\n}\n.demo-upload-list img {\n  width: 100%;\n  height: 100%;\n}\n.demo-upload-list-cover {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.6);\n}\n.demo-upload-list:hover .demo-upload-list-cover {\n  display: block;\n}\n.demo-upload-list-cover i {\n  color: #fff;\n  font-size: 20px;\n  cursor: pointer;\n  margin: 0 2px;\n}\n",""])},867:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"md-person"}}),e._v("\n            banner图配置\n        ")],1),e._v(" "),n("div",[n("Form",{ref:"myForm",attrs:{rules:e.ruleValidate,model:e.formItem,"label-width":80}},[n("FormItem",{attrs:{label:"banner图",prop:"value"}},[e.formItem.value?n("div",{staticClass:"demo-upload-list"},[n("img",{attrs:{src:e.formItem.value}}),e._v(" "),n("div",{staticClass:"demo-upload-list-cover"},[n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return e.handleImgRemove()}}})],1)]):e._e(),e._v(" "),e.formItem.value?n("input",{directives:[{name:"model",rawName:"v-model",value:e.formItem.value,expression:"formItem.value"}],attrs:{type:"hidden",name:"image"},domProps:{value:e.formItem.value},on:{input:function(t){t.target.composing||e.$set(e.formItem,"value",t.target.value)}}}):e._e(),e._v(" "),e.formItem.value?e._e():n("Upload",{staticStyle:{display:"inline-block",width:"58px"},attrs:{type:"drag",action:e.uploadUrl,headers:e.uploadHeader,format:["jpg","jpeg","png"],"max-size":5120,"on-success":e.handleImgSuccess,"on-format-error":e.handleImgFormatError,"on-exceeded-size":e.handleImgMaxSize}},[n("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[n("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1),e._v(" "),n("div",[n("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)]),e._v(" "),n("Modal",{attrs:{"footer-hide":"","class-name":"fl-image-modal"},model:{value:e.modalSeeingImg.show,callback:function(t){e.$set(e.modalSeeingImg,"show",t)},expression:"modalSeeingImg.show"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.modalSeeingImg.img}})])],1)},o=[];a._withStripped=!0,t.render=a,t.staticRenderFns=o}});