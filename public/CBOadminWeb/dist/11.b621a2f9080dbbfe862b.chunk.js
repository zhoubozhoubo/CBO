webpackJsonp([11],{247:function(e,t,a){"use strict";function r(e){u||a(879)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(476),n=a.n(o);for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);var l=a(881),s=(a.n(l),a(4)),u=!1,d=r,c=Object(s.a)(n.a,l.render,l.staticRenderFns,!1,d,null,null);c.options.__file="src/views/basic_conf/match_synopsis/index.vue",t.default=c.exports},364:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coruData=t.getDataDetails=void 0;var r=a(34),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getDataDetails=function(e){return o.default.get("BasicConf/getDetails",{params:{name:e}})},t.coruData=function(e){return o.default.post("BasicConf/coruData",e)}},476:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),o=function(e){return e&&e.__esModule?e:{default:e}}(r),n=a(364);a(93);t.default={name:"match_synopsis",data:function(){return{loading:!1,formItem:{id:"",name:"",remarks:"",value:""},uploadUrl:"",uploadHeader:{},editorOption:{modules:{toolbar:{container:[[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote","clean"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],[{color:[]},{background:[]}],["image"]],handlers:{image:function(e){e?document.querySelector("#iviewUp input").click():this.quill.format("image",!1)}}}}},ruleValidate:{}}},mounted:function(){this.getDataDetails(),this.uploadUrl=o.default.baseUrl+"Index/upload",this.uploadHeader={ApiAuth:sessionStorage.getItem("apiAuth")}},methods:{submit:function(){var e=this;this.$refs.myForm.validate(function(t){t&&(e.loading=!0,(0,n.coruData)(e.formItem).then(function(t){1===t.data.code?(e.getDataDetails(),e.$Message.success(t.data.msg)):e.$Message.error(t.data.msg),e.loading=!1}))})},handleSingleSuccess:function(e,t){var a=this,r=this.$refs.myQuillEditor.quill;if(1===e.code){var o=r.getSelection().index;r.insertEmbed(o,"image",e.data.fileUrl),r.setSelection(o+1)}else a.$Message.error("图片插入失败")},handleFormatError:function(){},handleBeforeUpload:function(){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){},getDataDetails:function(){var e=this;(0,n.getDataDetails)("match_synopsis").then(function(t){console.log(t),e.formItem=t.data.data})}}}},879:function(e,t,a){var r=a(880);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a(16).default;o("55049c84",r,!1,{})},880:function(e,t,a){t=e.exports=a(15)(!1),t.push([e.i,"\n.ql-editor {\n    height: 300px;\n}\n",""])},881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"md-person"}}),e._v("\n            赛事简介管理\n        ")],1),e._v(" "),a("div",[a("Form",{ref:"myForm",attrs:{rules:e.ruleValidate,model:e.formItem,"label-width":100}},[a("FormItem",{attrs:{label:"配置名称",prop:"name"}},[a("Input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"配置备注",prop:"remarks"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"配置备注"},model:{value:e.formItem.remarks,callback:function(t){e.$set(e.formItem,"remarks",t)},expression:"formItem.remarks"}})],1),e._v(" "),a("FormItem",{attrs:{label:"配置内容",prop:"value"}},[a("div",{staticStyle:{width:"800px"}},[a("Upload",{ref:"upload",staticStyle:{display:"none",width:"0"},attrs:{id:"iviewUp","show-upload-list":!1,"on-success":e.handleSingleSuccess,format:["jpg","jpeg","png"],"max-size":5120,"on-format-error":e.handleFormatError,"before-upload":e.handleBeforeUpload(),type:"drag",action:e.uploadUrl,headers:e.uploadHeader}},[a("div",{staticStyle:{width:"0"}},[a("Icon",{attrs:{type:"ios-camera",size:"50"}})],1)]),e._v(" "),a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.formItem.value,callback:function(t){e.$set(e.formItem,"value",t)},expression:"formItem.value"}})],1)]),e._v(" "),a("div",[a("Button",{staticStyle:{width:"100px","margin-left":"100px"},attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)])],1)},o=[];r._withStripped=!0,t.render=r,t.staticRenderFns=o}});