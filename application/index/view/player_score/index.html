{include file="public/header"}
<link rel="stylesheet" href="__STATIC__/css/player_score/index.css">
<div class="content">
    <img class="line" src="__STATIC__/images/line.png">
    <!--球员积分榜-->
    <div class="player_score_list">
        <div class="table_head">
            <div class="left">
                <h1 class="rank">排名</h1>
                <h1 class="team">球队</h1>
                <h1 class="name">姓名</h1>
                <h1 class="score">积分</h1>
            </div>
            <div class="right">
                <h1 class="rank">排名</h1>
                <h1 class="team">球队</h1>
                <h1 class="name">姓名</h1>
                <h1 class="score">积分</h1>
            </div>
        </div>
        <ul class="player_list">
            <li class="left">
                <h1 class="rank">1</h1>
                <div class="team">
                        <img src="__STATIC__/images/teamlogo.png"/>
                        <h1>球队</h1>
                </div>
                <h1 class="name"><span class="cursor">BOLULU</span></h1>
                <h1 class="score">70</h1>
                <div class="none"></div>
            </li>
            <li class="right">
                <div class="none"></div>
                <h1 class="rank">1</h1>
                <div class="team">
                        <img src="__STATIC__/images/teamlogo.png"/>
                        <h1>球队</h1>
                </div>
                <h1 class="name"><span class="cursor">BOLULU</span></h1>
                <h1 class="score">70</h1>
            </li>
            <div class="line"></div>
            <div class="level_line see_more"></div>
            <div class="clear"></div>
        </ul>
        <div class="see_more bg_color"></div>
        <div class="page">
            <ul>
                <li></li>
                <li>1</li>
                <li>2</li>
                <li>3</li>
                <li>4</li>
                <li>5</li>
                <li></li>
            </ul>
            <div class="clear"></div>
        </div>
    </div>
    <div class="clear"></div>
</div>
{include file="public/footer"}

<script>
    $(function () {
        getPlayerScoreRanking()
    })

    //球员积分排行
    function getPlayerScoreRanking() {
        let jsonData = {"pageNum" : 0,"pageSize" : 20,"seasonId":"75","stageId" : "17"}
        $.ajax({
            type: "POST",
            url: "https://minidev.woaolanqiu.cn/cbo/data/player/score/ranking",
            contentType: "application/json",
            data: JSON.stringify(jsonData),
            dataType: "json",
            success: function (data) {
                if(data.code === 200){
                    let list = data.data.list
                    $('.player_score_list .player_list').html('')
                    let str = ''
                    $.each(list, function (k, v) {
                        if(k%2 === 0){
                            str += '\n' +
                                '            <li class="left">\n' +
                                '                <h1 class="rank">'+v.ranking+'</h1>\n' +
                                '                <div class="team">\n' +
                                '                        <img src="'+v.teamLogo+'"/>\n' +
                                '                        <h1>'+v.teamName+'</h1>\n' +
                                '                </div>\n' +
                                '                <h1 class="name"><span class="cursor">'+v.playerName+'</span></h1>\n' +
                                '                <h1 class="score">'+v.point+'</h1>\n' +
                                '                <div class="none"></div>\n' +
                                '            </li>'
                        }else{
                            str += '\n' +
                                '            <li class="right">\n' +
                                '                <div class="none"></div>\n' +
                                '                <h1 class="rank">'+v.ranking+'</h1>\n' +
                                '                <div class="team">\n' +
                                '                    <img src="'+v.teamLogo+'"/>\n' +
                                '                    <h1>'+v.teamName+'</h1>\n' +
                                '                </div>\n' +
                                '                <h1 class="name"><span class="cursor">'+v.playerName+'</span></h1>\n' +
                                '                <h1 class="score">'+v.point+'</h1>\n' +
                                '            </li>'
                        }
                    })
                    $('.player_score_list .player_list').html(str)
                }
            }
        })
    }
</script>